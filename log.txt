
> mission-redemption@1.0.0 start /Users/Lauren/Desktop/MissionRedemption
> node hrAnxietyTracker.js

{ clientId: '22CXS4',
  clientSecret: '1f690ea71ae7507d74dee95939257f6a' }
TypeError: Cannot read property 'catch' of undefined
    at app.get (/Users/Lauren/Desktop/MissionRedemption/hrAnxietyTracker.js:31:5)
    at Layer.handle [as handle_request] (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/layer.js:95:5)
    at next (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/route.js:137:13)
    at Route.dispatch (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/route.js:112:3)
    at Layer.handle [as handle_request] (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/layer.js:95:5)
    at /Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/index.js:281:22
    at Function.process_params (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/middleware/init.js:40:5)
    at Layer.handle [as handle_request] (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/index.js:317:13)
    at /Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/index.js:335:12)
    at next (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/index.js:275:10)
    at query (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/middleware/query.js:45:5)
    at Layer.handle [as handle_request] (/Users/Lauren/Desktop/MissionRedemption/node_modules/express/lib/router/layer.js:95:5)
eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2R1kzOVciLCJhdWQiOiIyMkNYUzQiLCJpc3MiOiJGaXRiaXQiLCJ0eXAiOiJhY2Nlc3NfdG9rZW4iLCJzY29wZXMiOiJ3aHIgd3BybyB3bnV0IHdzbGUgd3dlaSB3c29jIHdhY3Qgd3NldCB3bG9jIiwiZXhwIjoxNTMyMzA0ODY1LCJpYXQiOjE1MzIyNzYwNjV9.m--ltwB1NYJ0K7lpjvErqiZpQQkUZqsl-h9oRA69wqA
in here
[ { 'activities-heart': [ [Object] ],
    'activities-heart-intraday': { dataset: [Object], datasetInterval: 1, datasetType: 'minute' } },
  IncomingMessage {
    _readableState: 
     ReadableState {
       objectMode: false,
       highWaterMark: 16384,
       buffer: [Object],
       length: 0,
       pipes: null,
       pipesCount: 0,
       flowing: true,
       ended: true,
       endEmitted: true,
       reading: false,
       sync: false,
       needReadable: false,
       emittedReadable: false,
       readableListening: false,
       resumeScheduled: false,
       defaultEncoding: 'utf8',
       ranOut: false,
       awaitDrain: 0,
       readingMore: false,
       decoder: null,
       encoding: null },
    readable: false,
    domain: null,
    _events: 
     { end: [Object],
       close: [Object],
       data: [Function],
       error: [Function] },
    _eventsCount: 4,
    _maxListeners: undefined,
    socket: 
     TLSSocket {
       _tlsOptions: [Object],
       _secureEstablished: true,
       _securePending: false,
       _newSessionPending: false,
       _controlReleased: true,
       _SNICallback: null,
       servername: null,
       npnProtocol: false,
       alpnProtocol: false,
       authorized: true,
       authorizationError: null,
       encrypted: true,
       _events: [Object],
       _eventsCount: 9,
       connecting: false,
       _hadError: false,
       _handle: null,
       _parent: null,
       _host: 'api.fitbit.com',
       _readableState: [Object],
       readable: false,
       domain: null,
       _maxListeners: undefined,
       _writableState: [Object],
       writable: false,
       allowHalfOpen: false,
       destroyed: true,
       _bytesDispatched: 438,
       _sockname: null,
       _pendingData: null,
       _pendingEncoding: '',
       server: undefined,
       _server: null,
       ssl: null,
       _requestCert: true,
       _rejectUnauthorized: true,
       parser: null,
       _httpMessage: [Object],
       read: [Function],
       _consuming: true,
       _idleNext: null,
       _idlePrev: null,
       _idleTimeout: -1 },
    connection: 
     TLSSocket {
       _tlsOptions: [Object],
       _secureEstablished: true,
       _securePending: false,
       _newSessionPending: false,
       _controlReleased: true,
       _SNICallback: null,
       servername: null,
       npnProtocol: false,
       alpnProtocol: false,
       authorized: true,
       authorizationError: null,
       encrypted: true,
       _events: [Object],
       _eventsCount: 9,
       connecting: false,
       _hadError: false,
       _handle: null,
       _parent: null,
       _host: 'api.fitbit.com',
       _readableState: [Object],
       readable: false,
       domain: null,
       _maxListeners: undefined,
       _writableState: [Object],
       writable: false,
       allowHalfOpen: false,
       destroyed: true,
       _bytesDispatched: 438,
       _sockname: null,
       _pendingData: null,
       _pendingEncoding: '',
       server: undefined,
       _server: null,
       ssl: null,
       _requestCert: true,
       _rejectUnauthorized: true,
       parser: null,
       _httpMessage: [Object],
       read: [Function],
       _consuming: true,
       _idleNext: null,
       _idlePrev: null,
       _idleTimeout: -1 },
    httpVersionMajor: 1,
    httpVersionMinor: 1,
    httpVersion: '1.1',
    complete: true,
    headers: 
     { date: 'Sun, 22 Jul 2018 16:14:26 GMT',
       'content-type': 'application/json;charset=UTF-8',
       'transfer-encoding': 'chunked',
       connection: 'close',
       vary: 'Origin,Accept-Encoding',
       'cache-control': 'no-cache, private',
       'content-language': 'en',
       'fitbit-rate-limit-limit': '150',
       'fitbit-rate-limit-remaining': '134',
       'fitbit-rate-limit-reset': '2734',
       'x-frame-options': 'SAMEORIGIN',
       'expect-ct': 'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
       server: 'cloudflare',
       'cf-ray': '43e7334529a5bc92-SEA' },
    rawHeaders: 
     [ 'Date',
       'Sun, 22 Jul 2018 16:14:26 GMT',
       'Content-Type',
       'application/json;charset=UTF-8',
       'Transfer-Encoding',
       'chunked',
       'Connection',
       'close',
       'Vary',
       'Origin,Accept-Encoding',
       'Cache-control',
       'no-cache, private',
       'Content-Language',
       'en',
       'Fitbit-Rate-Limit-Limit',
       '150',
       'Fitbit-Rate-Limit-Remaining',
       '134',
       'Fitbit-Rate-Limit-Reset',
       '2734',
       'X-Frame-Options',
       'SAMEORIGIN',
       'Expect-CT',
       'max-age=604800, report-uri="https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct"',
       'Server',
       'cloudflare',
       'CF-RAY',
       '43e7334529a5bc92-SEA' ],
    trailers: {},
    rawTrailers: [],
    upgrade: false,
    url: '',
    method: null,
    statusCode: 200,
    statusMessage: 'OK',
    client: 
     TLSSocket {
       _tlsOptions: [Object],
       _secureEstablished: true,
       _securePending: false,
       _newSessionPending: false,
       _controlReleased: true,
       _SNICallback: null,
       servername: null,
       npnProtocol: false,
       alpnProtocol: false,
       authorized: true,
       authorizationError: null,
       encrypted: true,
       _events: [Object],
       _eventsCount: 9,
       connecting: false,
       _hadError: false,
       _handle: null,
       _parent: null,
       _host: 'api.fitbit.com',
       _readableState: [Object],
       readable: false,
       domain: null,
       _maxListeners: undefined,
       _writableState: [Object],
       writable: false,
       allowHalfOpen: false,
       destroyed: true,
       _bytesDispatched: 438,
       _sockname: null,
       _pendingData: null,
       _pendingEncoding: '',
       server: undefined,
       _server: null,
       ssl: null,
       _requestCert: true,
       _rejectUnauthorized: true,
       parser: null,
       _httpMessage: [Object],
       read: [Function],
       _consuming: true,
       _idleNext: null,
       _idlePrev: null,
       _idleTimeout: -1 },
    _consuming: true,
    _dumped: false,
    req: 
     ClientRequest {
       domain: null,
       _events: [Object],
       _eventsCount: 5,
       _maxListeners: undefined,
       output: [],
       outputEncodings: [],
       outputCallbacks: [],
       outputSize: 0,
       writable: true,
       _last: true,
       upgrading: false,
       chunkedEncoding: false,
       shouldKeepAlive: false,
       useChunkedEncodingByDefault: false,
       sendDate: false,
       _removedHeader: {},
       _contentLength: 0,
       _hasBody: true,
       _trailer: '',
       finished: true,
       _headerSent: true,
       socket: [Object],
       connection: [Object],
       _header: 'GET /1.2/user/-/activities/heart/date/2018-06-23/1d/1min.json HTTP/1.1\r\nAuthorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI2R1kzOVciLCJhdWQiOiIyMkNYUzQiLCJpc3MiOiJGaXRiaXQiLCJ0eXAiOiJhY2Nlc3NfdG9rZW4iLCJzY29wZXMiOiJ3aHIgd3BybyB3bnV0IHdzbGUgd3dlaSB3c29jIHdhY3Qgd3NldCB3bG9jIiwiZXhwIjoxNTMyMzA0ODY1LCJpYXQiOjE1MzIyNzYwNjV9.m--ltwB1NYJ0K7lpjvErqiZpQQkUZqsl-h9oRA69wqA\r\nhost: api.fitbit.com\r\naccept: application/json\r\nConnection: close\r\n\r\n',
       _headers: [Object],
       _headerNames: [Object],
       _onPendingData: null,
       agent: [Object],
       socketPath: undefined,
       timeout: undefined,
       method: 'GET',
       path: '/1.2/user/-/activities/heart/date/2018-06-23/1d/1min.json',
       _ended: true,
       parser: null,
       res: [Circular] },
    request: 
     Request {
       domain: null,
       _events: [Object],
       _eventsCount: 5,
       _maxListeners: undefined,
       method: 'GET',
       headers: [Object],
       callback: [Function],
       readable: true,
       writable: true,
       explicitMethod: true,
       _qs: [Object],
       _auth: [Object],
       _oauth: [Object],
       _multipart: [Object],
       _redirect: [Object],
       _tunnel: [Object],
       setHeader: [Function],
       hasHeader: [Function],
       getHeader: [Function],
       removeHeader: [Function],
       localAddress: undefined,
       pool: {},
       dests: [],
       __isRequestRequest: true,
       _callback: [Function],
       uri: [Object],
       proxy: null,
       tunnel: true,
       setHost: true,
       originalCookieHeader: undefined,
       _disableCookies: true,
       _jar: undefined,
       port: 443,
       host: 'api.fitbit.com',
       path: '/1.2/user/-/activities/heart/date/2018-06-23/1d/1min.json',
       _json: true,
       httpModule: [Object],
       agentClass: [Object],
       agent: [Object],
       _started: true,
       href: 'https://api.fitbit.com/1.2/user/-/activities/heart/date/2018-06-23/1d/1min.json',
       req: [Object],
       ntick: true,
       response: [Circular],
       originalHost: 'api.fitbit.com',
       originalHostHeaderName: 'host',
       responseContent: [Circular],
       _destdata: true,
       _ended: true,
       _callbackCalled: true },
    toJSON: [Function: responseToJSON],
    caseless: Caseless { dict: [Object] },
    read: [Function],
    body: 
     { 'activities-heart': [Object],
       'activities-heart-intraday': [Object] } } ]
